!function(t){var e={};function o(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(i,r,function(e){return t[e]}.bind(null,r));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=3)}([function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"a",(function(){return r})),o.d(e,"c",(function(){return n}));const i=500,r=500,n=15},,,function(t,e,o){t.exports=o(4)},function(t,e,o){"use strict";o.r(e);var i=o(0);class r extends class{constructor(t,e,o,i){this.x=t,this.y=e,this.__pool__=i,this.color="yellow",this.fontColor="black",this.bothTime=performance.now(),this.lifeLong=o*(1/(10*(this.bothTime-this.__pool__.bothTime)+1)+.8),this.isAlive=!0,i.coins.push(this)}state(){let t=performance.now()-this.bothTime;return t>this.lifeLong?this.isAlive=!1:(this.x=this.updateX(t),this.y=this.updateY(t)),this}updateX(t){return this.x+t/1e3}updateY(t){return this.y+t/1e3}isClicked(t){return(t[0]-this.x)**2+(t[1]-this.y)**2<=i.c**2}tryClick(t){return!!this.isClicked(t)&&(this.__pool__.createCoin(i.b/2,i.a-i.c,2e3),!0)}}{constructor(t,e,o,r){super(t,e,o,r),this.target=[2*i.c+Math.random()*(i.b-4*i.c),2*i.c+Math.random()*(i.a-4*i.c)],this.originX=t,this.originY=e}updateX(t){return t**2*((this.target[0]-this.x)/this.lifeLong**2)+this.x}updateY(t){return t**2*((this.target[1]-this.y)/this.lifeLong**2)+this.y}}class n extends r{constructor(t,e,o,i){super(t,e,o,i),this.color="green",this.fontColor="white"}tryClick(t){return!!this.isClicked(t)&&(this.__pool__.createCoin(i.b/2,i.a-i.c,2e3),this.__pool__.createCoin(i.b/2,i.a-i.c,2e3),!0)}}const s=new OffscreenCanvas(i.b,i.a),a=s.getContext("2d");let c=new class{constructor(){this.coins=[],this.bothTime=performance.now()}tryClick(t){for(let e=this.coins.length-1;e>=0;e--){if(this.coins[e].tryClick(t))break}}createCoin(t,e,o){Math.random()<.8?new r(t,e,o,this):new n(t,e,o,this)}};const l=()=>{c.coins=c.coins.filter(t=>{let e=t.state();return e.isAlive&&((t,e,o,r="black")=>{a.beginPath(),a.moveTo(t+i.c,e),a.arc(t,e,i.c,0,2*Math.PI),a.fillStyle=o,a.shadowOffsetX=3,a.shadowOffsetY=4,a.shadowBlur=5,a.shadowColor="rgba(0, 0, 0, 0.5)",a.fill(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,a.fillStyle=r,a.font="bold 22px '微软雅黑'",a.fillText("$",t,e+8),a.textAlign="center",a.closePath()})(e.x,e.y,e.color,e.fontColor),e.isAlive})};let u=null,h=0,f=0;const d=()=>{(()=>{a.clearRect(0,0,s.width,s.height),l();const t=s.transferToImageBitmap();postMessage({type:"drawPoint",img:t})})(),clearTimeout(u),u=null,0!==c.coins.length&&(u=setTimeout(d,0))};onmessage=t=>{"drawPoint"===t.data.msg?t.data.mouseX===h&&t.data.mouseY===f||(h=t.data.mouseX,f=t.data.mouseY,u||(u=setTimeout(d,0))):"add$"===t.data.msg?(new r(...t.data.$,c),u||(u=setTimeout(d,0))):"click$"===t.data.msg&&c.tryClick(t.data.position)},u=setTimeout(d,0)}]);